<div class="px-4 py-8 w-full">
  <div>
    <div class="flex flex-col">
      <div class="flex justify-between items-center">
        <a routerLink="/devices" class="py-4 pr-4"
          ><img src="assets/icons/Back.svg" alt=""
        /></a>
        <div class="text-sm font-medium">{{ device?.device_type }}</div>
      </div>
      <div class="flex justify-between items-center mt-2">
        <div class="text-22 font-bold">{{ device_name }}</div>
        <div *ngIf="!loading" class="flex gap-2 items-center">
          <div
            class="flex gap-1 items-center rounded-full px-2 py-1"
            [ngClass]="device && device.radio_status ? 'bg-green1' : 'bg-rouge'"
          >
            <div class="text-xs font-medium">Radio</div>
            <i *ngIf="device && device.radio_status" nz-icon nzType="check"></i>
          </div>
          <div
            class="flex gap-1 items-center rounded-full px-2 py-1"
            [ngClass]="
              device && device.battery_status ? 'bg-green1' : 'bg-rouge'
            "
          >
            <div class="text-xs font-medium">Batt</div>
            <i
              *ngIf="device && device.battery_status"
              nz-icon
              nzType="check"
            ></i>
          </div>
        </div>
      </div>

      <div *ngIf="device" class="text-sm text-brown font-medium mt-1">
        {{ device.floor + "th - " + device.position }}
      </div>

      <div
        *ngIf="!unread"
        class="mt-6 flex gap-2 justify-center items-center p-3 w-2/5 rounded-full bg-green1 text-lg text-black font-medium"
      >
        <img src="assets/icons/smile.svg" alt="" />
        <div>All good</div>
      </div>
      <div
        *ngIf="unread"
        class="mt-6 flex gap-2 justify-center items-center p-3 w-1/2 rounded-full bg-rouge text-lg text-white font-medium"
      >
        <i nz-icon [nzType]="'bell'"></i>
        <div>{{ events[0].event_type }}</div>
      </div>

      <div class="mt-9">
        <div class="flex gap-8 text-22 font-medium border-b border-color-gray4">
          <div
            class="cursor-pointer"
            [ngClass]="bEvent ? 'text-rouge border-rouge border-b-4' : ''"
            (click)="bEvent=true"
          >
            Events
          </div>
          <div
            class="cursor-pointer"
            [ngClass]="!bEvent ? 'text-rouge border-rouge border-b-4' : ''"
            (click)="bEvent=false"
          >
            Automation
          </div>
        </div>
        <div *ngIf="bEvent" class="mt-3">
          <div class="event-item py-3.5" *ngFor="let evt of events">
            <div class="text-base">{{ evt.event_type }}</div>
            <div class="text-sm">{{ evt.date_occurred }}</div>
          </div>
        </div>
        <div *ngIf="!bEvent" class="bg-gray2 p-3 text-base mt-3">
          <div class="flex items-center gap-1">
            <i nz-icon nzType="arrow-left"></i> When a water leak is detected
          </div>
          <div class="flex items-center gap-1">
            <i nz-icon nzType="arrow-right"></i> Then send SMS alert
          </div>
        </div>
      </div>
    </div>
  </div>
</div>
